---
title: 正则表达式
date: 2018-11-06 12:28:45
tags:
---

正则表达式用于匹配字符串字符组合的模式,在JavaScript中，正则表达式也是对象。

#### 匹配将依照下列规则：

###### \  :    在非特殊字符之前的反斜杠表示下一个字符是特殊的，不能从字面上解释。

例如，没有前面'\'的'b'通常匹配小写'b'，无论它们出现在哪里。如果加了'\',这个字符变成了一个特殊意义的字符，意思是匹配一个字符边界。

反斜杠也可以将其后的特殊字符，转义为字面量。例如，模式 /a*/ 代表会匹配 0 个或者多个 a。相反，模式 /a\*/ 将 '*' 的特殊性移除，从而可以匹配像 "a*" 这样的字符串。

使用 new RegExp("pattern") 的时候不要忘记将 \ 进行转义，因为 \ 在字符串里面也是一个转义字符。

###### ^  :   匹配输入的开始。如果多行标志被设置为true，那么也匹配换行符后紧跟的位置。

例如，/^A/ 并不会匹配 "an A" 中的 'A'，但是会匹配 "An E" 中的 'A'。
当 '^' 作为第一个字符出现在一个字符集合模式时，它将会有不同的含义

###### $ :  匹配输入的结束。如果多行标示被设置为true，那么也匹配换行符前的位置。

   例如，/t$/ 并不会匹配 "eater" 中的 't'，但是会匹配 "eat" 中的 't'。

###### * :  匹配前一个表达式0次或多次。等价于 {0,}。

例如，/bo*/会匹配 "A ghost boooooed" 中的 'booooo' 和 "A bird warbled" 中的 'b'，但是在 "A goat grunted" 中将不会匹配任何东西。

###### + :  匹配前面一个表达式1次或者多次。等价于 {1,}。

例如，/a+/匹配了在 "candy" 中的 'a'，和在 "caaaaaaandy" 中所有的 'a'。

###### ?  : 匹配前面一个表达式0次或者1次。等价于 {0,1}。

例如，/e?le?/ 匹配 "angel" 中的 'el'，和 "angle" 中的 'le' 以及"oslo' 中的'l'。
如果紧跟在任何量词 *、 +、? 或 {} 的后面，将会使量词变为非贪婪的（匹配尽量少的字符），和缺省使用的贪婪模式（匹配尽可能多的字符）正好相反。

例如，对 "123abc" 应用 /\d+/ 将会返回 "123"，如果使用 /\d+?/,那么就只会匹配到 "1"。
还可以运用于先行断言，如本表的 x(?=y) 和 x(?!y) 条目中所述。

###### .  :（小数点）匹配除换行符之外的任何单个字符。

例如，/.n/将会匹配 "nay, an apple is on the tree" 中的 'an' 和 'on'，但是不会匹配 'nay'。

###### \d : 匹配一个数字。等价于[0-9]。

例如， /\d/ 或者 /[0-9]/ 匹配"B2 is the suite number."中的'2'。

###### \s :匹配一个空白字符，包括空格、制表符、换页符和换行符。

等价于[ \f\n\r\t\v\u00a0\u1680\u180e\u2000\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]。
例如, /\s\w*/ 匹配"foo bar."中的' bar'。

###### \w : 匹配一个单字字符（字母、数字或者下划线）。等价于[A-Za-z0-9_]。

例如, /\w/ 匹配 "apple," 中的 'a'，"$5.28,"中的 '5' 和 "3D." 中的 '3'。

#### 使用正则表达式

正则表达式可以被用于`RegExp`的[`exec`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/exec)和[`test`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/RegExp/test)方法以及 [`String`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String)的[`match`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/match)、[`replace`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/replace)、[`search`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/search)和[`split`](https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Global_Objects/String/split)方法

| `exec`    | 一个在字符串中执行查找匹配的RegExp方法，它返回一个数组（未匹配到则返回null）。 |
| --------- | ------------------------------------------------------------ |
| `test`    | 一个在字符串中测试是否匹配的RegExp方法，它返回true或false。  |
| `match`   | 一个在字符串中执行查找匹配的String方法，它返回一个数组或者在未匹配到时返回null。 |
| `search`  | 一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。 |
| `replace` | 一个在字符串中执行查找匹配的String方法，并且使用替换字符串替换掉匹配到的子字符串。 |
| `split`   | 一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的String方法。 |

当你想要知道在一个字符串中的一个匹配是否被找到，你可以使用test或search方法；

想得到更多的信息（但是比较慢）则可以使用exec或match方法。

如果你使用exec或match方法并且匹配成功了，那么这些方法将返回一个数组并且更新相关的正则表达式对象的属性和预定义的正则表达式对象。如果匹配失败，那么exec方法返回null（也就是false）

#### 来做做如下实例


一个函数`isValidUsername(str)`，判断用户输入的是不是合法的用户名（长度6-20个字符，只能包括字母、数字、下划线）

```javascript
function isValidUsername(str){
    reg = /^\w{6,20}$/
    return reg.test(str)
}
console.log(isValidUsername('x_wu_ya'))
```



一个函数`isPhoneNum(str)`，判断用户输入的是不是手机号

```javascript
function isPhoneNum(str){
    reg = /^1[3578]\d{9}$/
    return reg.test(str)
}
console.log(isPhoneNum('131203456112'))
```



写一个函数`isEmail(str)`，判断用户输入的是不是邮箱

```javascript
function isEmail(str){
    reg = /^\w+@.+(.com)$/
    return reg.test(str)
}
console.log(isEmail('xwu@qq.com'))
```

参考： https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#note